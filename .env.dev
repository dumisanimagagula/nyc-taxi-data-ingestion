# NYC Taxi Lakehouse - DEVELOPMENT Environment# ================================================
# Optimized for local development with minimal resource constraints

ENVIRONMENT=dev
PROJECT_NAME=nyc-taxi-lakehouse-dev
COMPOSE_PROJECT_NAME=lakehouse-dev

# Storage
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio123
AWS_ACCESS_KEY_ID=minio
AWS_SECRET_ACCESS_KEY=minio123
AWS_ENDPOINT_URL=http://minio:9000
AWS_REGION=us-east-1

# Metastore
METASTORE_DB_USER=hive
METASTORE_DB_PASSWORD=hive
METASTORE_DB_NAME=metastore
HIVE_METASTORE_URI=thrift://hive-metastore:9083

# Spark (Reduced resources for dev)
SPARK_MASTER_URL=spark://spark-master:7077
SPARK_WORKER_CORES=2
SPARK_WORKER_MEMORY=2g
SPARK_WORKER_INSTANCES=2
SPARK_DRIVER_MEMORY=1g
SPARK_EXECUTOR_MEMORY=2g

# Trino (Reduced for dev)
TRINO_COORDINATOR_MEMORY=2GB
TRINO_WORKER_MEMORY=2GB

# Superset
SUPERSET_DB_USER=superset
SUPERSET_DB_PASSWORD=superset
SUPERSET_DB_NAME=superset
SUPERSET_SECRET_KEY=dev_secret_key_not_for_production
SUPERSET_ADMIN_USERNAME=admin
SUPERSET_ADMIN_PASSWORD=admin
SUPERSET_LOAD_EXAMPLES=false

# Airflow
AIRFLOW_DB_USER=airflow
AIRFLOW_DB_PASSWORD=airflow
AIRFLOW_DB_NAME=airflow
AIRFLOW_ADMIN_USERNAME=airflow
AIRFLOW_ADMIN_PASSWORD=airflow
AIRFLOW_ADMIN_EMAIL=dev@localhost.com
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__LOAD_EXAMPLES=false
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=true

# Resource Limits (Minimal for development)
MINIO_CPU_LIMIT=0.5
MINIO_MEM_LIMIT=512m
MINIO_MEM_RESERVATION=256m

POSTGRES_CPU_LIMIT=0.5
POSTGRES_MEM_LIMIT=512m
POSTGRES_MEM_RESERVATION=256m

SPARK_MASTER_CPU_LIMIT=1.0
SPARK_MASTER_MEM_LIMIT=2g
SPARK_MASTER_MEM_RESERVATION=1g

SPARK_WORKER_CPU_LIMIT=2.0
SPARK_WORKER_MEM_LIMIT=3g
SPARK_WORKER_MEM_RESERVATION=2g

TRINO_CPU_LIMIT=2.0
TRINO_MEM_LIMIT=4g
TRINO_MEM_RESERVATION=2g

SUPERSET_CPU_LIMIT=1.0
SUPERSET_MEM_LIMIT=1g
SUPERSET_MEM_RESERVATION=512m

AIRFLOW_WEBSERVER_CPU_LIMIT=0.5
AIRFLOW_WEBSERVER_MEM_LIMIT=1g
AIRFLOW_WEBSERVER_MEM_RESERVATION=512m

AIRFLOW_SCHEDULER_CPU_LIMIT=1.0
AIRFLOW_SCHEDULER_MEM_LIMIT=1g
AIRFLOW_SCHEDULER_MEM_RESERVATION=512m

# Port Mappings
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
SPARK_MASTER_PORT=7077
SPARK_MASTER_UI_PORT=8080
TRINO_UI_PORT=8086
SUPERSET_PORT=8088
AIRFLOW_PORT=8089
METASTORE_PORT=9083

# Healthcheck (Faster for dev)
HEALTHCHECK_INTERVAL=15s
HEALTHCHECK_TIMEOUT=5s
HEALTHCHECK_RETRIES=3
HEALTH CHECK_START_PERIOD=20s

# Restart Policy (No auto-restart in dev for easier debugging)
RESTART_POLICY=no

# Logging (Smaller logs for dev)
LOG_DRIVER=json-file
LOG_MAX_SIZE=5m
LOG_MAX_FILE=2

# Monitoring (Disabled in dev)
ENABLE_MONITORING=false

# Security (Relaxed for dev)
ENFORCE_HTTPS=false
